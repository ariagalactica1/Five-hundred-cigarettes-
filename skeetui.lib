-- GAMESENSE UI for Roblox
-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "GameSenseUI"
screenGui.ResetOnSpawn = false
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- Colors
local colors = {
    bgMain = Color3.fromRGB(16, 17, 16),
    bgSidebar = Color3.fromRGB(28, 29, 28),
    bgActiveNav = Color3.fromRGB(44, 45, 44),
    bgControl = Color3.fromRGB(37, 37, 37),
    borderColor = Color3.fromRGB(58, 58, 58),
    accentGreen = Color3.fromRGB(158, 253, 56),
    textWhite = Color3.fromRGB(255, 255, 255),
    textLight = Color3.fromRGB(204, 204, 204),
    textMuted = Color3.fromRGB(108, 108, 108),
}

-- Main Container
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(1, 0, 1, 0)
mainFrame.Position = UDim2.new(0, 0, 0, 0)
mainFrame.BackgroundColor3 = colors.bgMain
mainFrame.BorderSizePixel = 0
mainFrame.Parent = screenGui

-- Sidebar
local sidebar = Instance.new("Frame")
sidebar.Name = "Sidebar"
sidebar.Size = UDim2.new(0, 240, 1, 0)
sidebar.Position = UDim2.new(0, 0, 0, 0)
sidebar.BackgroundColor3 = colors.bgSidebar
sidebar.BorderSizePixel = 0
sidebar.Parent = mainFrame

-- Sidebar Header
local sidebarHeader = Instance.new("TextLabel")
sidebarHeader.Name = "Header"
sidebarHeader.Size = UDim2.new(1, -48, 0, 30)
sidebarHeader.Position = UDim2.new(0, 24, 0, 24)
sidebarHeader.BackgroundTransparency = 1
sidebarHeader.Text = "GAMESENSE"
sidebarHeader.TextColor3 = colors.textWhite
sidebarHeader.Font = Enum.Font.GothamBold
sidebarHeader.TextSize = 20
sidebarHeader.TextXAlignment = Enum.TextXAlignment.Left
sidebarHeader.Parent = sidebar

-- Navigation Container
local navContainer = Instance.new("ScrollingFrame")
navContainer.Name = "NavContainer"
navContainer.Size = UDim2.new(1, 0, 1, -160)
navContainer.Position = UDim2.new(0, 0, 0, 84)
navContainer.BackgroundTransparency = 1
navContainer.BorderSizePixel = 0
navContainer.ScrollBarThickness = 4
navContainer.ScrollBarImageColor3 = colors.bgControl
navContainer.CanvasSize = UDim2.new(0, 0, 0, 600)
navContainer.Parent = sidebar

-- Function to create nav category
local function createNavCategory(name, position)
    local category = Instance.new("TextLabel")
    category.Name = name
    category.Size = UDim2.new(1, -48, 0, 20)
    category.Position = UDim2.new(0, 24, 0, position)
    category.BackgroundTransparency = 1
    category.Text = name:upper()
    category.TextColor3 = colors.textMuted
    category.Font = Enum.Font.GothamBold
    category.TextSize = 10
    category.TextXAlignment = Enum.TextXAlignment.Left
    category.Parent = navContainer
    return category
end

-- Function to create nav item
local function createNavItem(name, icon, yPos, isActive)
    local itemFrame = Instance.new("Frame")
    itemFrame.Name = name
    itemFrame.Size = UDim2.new(1, -20, 0, 36)
    itemFrame.Position = UDim2.new(0, 10, 0, yPos)
    itemFrame.BackgroundTransparency = 1
    itemFrame.Parent = navContainer
    
    local button = Instance.new("TextButton")
    button.Name = "Button"
    button.Size = UDim2.new(1, 0, 1, 0)
    button.BackgroundColor3 = isActive and colors.bgActiveNav or Color3.fromRGB(0, 0, 0)
    button.BackgroundTransparency = isActive and 0 or 1
    button.BorderSizePixel = 0
    button.AutoButtonColor = false
    button.Text = ""
    button.Parent = itemFrame
    
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 6)
    corner.Parent = button
    
    if isActive then
        local indicator = Instance.new("Frame")
        indicator.Name = "Indicator"
        indicator.Size = UDim2.new(0, 3, 0, 20)
        indicator.Position = UDim2.new(0, 0, 0.5, -10)
        indicator.BackgroundColor3 = colors.accentGreen
        indicator.BorderSizePixel = 0
        indicator.Parent = button
        
        local indicatorCorner = Instance.new("UICorner")
        indicatorCorner.CornerRadius = UDim.new(0, 3)
        indicatorCorner.Parent = indicator
    end
    
    local iconLabel = Instance.new("TextLabel")
    iconLabel.Name = "Icon"
    iconLabel.Size = UDim2.new(0, 24, 1, 0)
    iconLabel.Position = UDim2.new(0, 14, 0, 0)
    iconLabel.BackgroundTransparency = 1
    iconLabel.Text = icon
    iconLabel.TextColor3 = colors.accentGreen
    iconLabel.Font = Enum.Font.GothamBold
    iconLabel.TextSize = 14
    iconLabel.Parent = button
    
    local textLabel = Instance.new("TextLabel")
    textLabel.Name = "Text"
    textLabel.Size = UDim2.new(1, -50, 1, 0)
    textLabel.Position = UDim2.new(0, 50, 0, 0)
    textLabel.BackgroundTransparency = 1
    textLabel.Text = name
    textLabel.TextColor3 = isActive and colors.textWhite or colors.textLight
    textLabel.Font = Enum.Font.Gotham
    textLabel.TextSize = 13
    textLabel.TextXAlignment = Enum.TextXAlignment.Left
    textLabel.Parent = button
    
    button.MouseEnter:Connect(function()
        if not isActive then
            button.BackgroundColor3 = colors.bgActiveNav
            button.BackgroundTransparency = 0
        end
    end)
    
    button.MouseLeave:Connect(function()
        if not isActive then
            button.BackgroundTransparency = 1
        end
    end)
    
    return itemFrame
end

-- Create navigation items
createNavCategory("Aimbot", 0)
createNavItem("RageBot", "üéØ", 25, false)
createNavItem("Anti Aim", "üõ°Ô∏è", 61, true)
createNavItem("Legitbot", "‚úì", 97, false)

createNavCategory("Visuals", 142)
createNavItem("Players", "üë•", 167, false)
createNavItem("Weapon", "üî´", 203, false)
createNavItem("Grenades", "üí£", 239, false)
createNavItem("Bomb", "üí£", 275, false)
createNavItem("World", "üåê", 311, false)
createNavItem("View", "üëÅÔ∏è", 347, false)

createNavCategory("Miscellaneous", 392)
createNavItem("Main", "‚öôÔ∏è", 417, false)
createNavItem("Inventory", "üåô", 453, false)
createNavItem("Lua", "üíª", 489, false)
createNavItem("Configs", "‚öôÔ∏è", 525, false)

-- Sidebar Footer
local sidebarFooter = Instance.new("Frame")
sidebarFooter.Name = "Footer"
sidebarFooter.Size = UDim2.new(1, -48, 0, 60)
sidebarFooter.Position = UDim2.new(0, 24, 1, -75)
sidebarFooter.BackgroundTransparency = 1
sidebarFooter.Parent = sidebar

local footerBorder = Instance.new("Frame")
footerBorder.Name = "Border"
footerBorder.Size = UDim2.new(1, 0, 0, 1)
footerBorder.Position = UDim2.new(0, 0, 0, 0)
footerBorder.BackgroundColor3 = Color3.fromRGB(42, 42, 42)
footerBorder.BorderSizePixel = 0
footerBorder.Parent = sidebarFooter

local profileAvatar = Instance.new("ImageLabel")
profileAvatar.Name = "Avatar"
profileAvatar.Size = UDim2.new(0, 40, 0, 40)
profileAvatar.Position = UDim2.new(0, 0, 0, 15)
profileAvatar.BackgroundColor3 = colors.bgControl
profileAvatar.BorderSizePixel = 0
profileAvatar.Image = "rbxasset://textures/ui/GuiImagePlaceholder.png"
profileAvatar.Parent = sidebarFooter

local avatarCorner = Instance.new("UICorner")
avatarCorner.CornerRadius = UDim.new(1, 0)
avatarCorner.Parent = profileAvatar

local profileName = Instance.new("TextLabel")
profileName.Name = "Name"
profileName.Size = UDim2.new(1, -52, 0, 18)
profileName.Position = UDim2.new(0, 52, 0, 15)
profileName.BackgroundTransparency = 1
profileName.Text = "Amiga"
profileName.TextColor3 = colors.textWhite
profileName.Font = Enum.Font.Gotham
profileName.TextSize = 13
profileName.TextXAlignment = Enum.TextXAlignment.Left
profileName.Parent = sidebarFooter

local profileStatus = Instance.new("TextLabel")
profileStatus.Name = "Status"
profileStatus.Size = UDim2.new(1, -52, 0, 16)
profileStatus.Position = UDim2.new(0, 52, 0, 33)
profileStatus.BackgroundTransparency = 1
profileStatus.Text = "TIE: 27.08 24:00"
profileStatus.TextColor3 = colors.textMuted
profileStatus.Font = Enum.Font.Gotham
profileStatus.TextSize = 11
profileStatus.TextXAlignment = Enum.TextXAlignment.Left
profileStatus.Parent = sidebarFooter

-- Main Content Area
local mainContent = Instance.new("Frame")
mainContent.Name = "MainContent"
mainContent.Size = UDim2.new(1, -240, 1, 0)
mainContent.Position = UDim2.new(0, 240, 0, 0)
mainContent.BackgroundColor3 = colors.bgMain
mainContent.BorderSizePixel = 0
mainContent.Parent = mainFrame

-- Header
local header = Instance.new("Frame")
header.Name = "Header"
header.Size = UDim2.new(1, 0, 0, 48)
header.Position = UDim2.new(0, 0, 0, 0)
header.BackgroundColor3 = Color3.fromRGB(22, 23, 22)
header.BorderSizePixel = 0
header.Parent = mainContent

local headerBorder = Instance.new("Frame")
headerBorder.Size = UDim2.new(1, 0, 0, 1)
headerBorder.Position = UDim2.new(0, 0, 1, -1)
headerBorder.BackgroundColor3 = Color3.fromRGB(42, 42, 42)
headerBorder.BorderSizePixel = 0
headerBorder.Parent = header

local saveButton = Instance.new("TextButton")
saveButton.Name = "SaveButton"
saveButton.Size = UDim2.new(0, 90, 0, 32)
saveButton.Position = UDim2.new(0, 24, 0.5, -16)
saveButton.BackgroundColor3 = colors.bgControl
saveButton.BorderColor3 = colors.borderColor
saveButton.BorderSizePixel = 1
saveButton.Text = "  üíæ Save"
saveButton.TextColor3 = colors.textLight
saveButton.Font = Enum.Font.Gotham
saveButton.TextSize = 13
saveButton.TextXAlignment = Enum.TextXAlignment.Left
saveButton.AutoButtonColor = false
saveButton.Parent = header

local saveCorner = Instance.new("UICorner")
saveCorner.CornerRadius = UDim.new(0, 6)
saveCorner.Parent = saveButton

local headerActions = Instance.new("Frame")
headerActions.Name = "Actions"
headerActions.Size = UDim2.new(0, 120, 0, 32)
headerActions.Position = UDim2.new(1, -144, 0.5, -16)
headerActions.BackgroundTransparency = 1
headerActions.Parent = header

-- Content Body (Scrolling)
local contentBody = Instance.new("ScrollingFrame")
contentBody.Name = "ContentBody"
contentBody.Size = UDim2.new(1, 0, 1, -48)
contentBody.Position = UDim2.new(0, 0, 0, 48)
contentBody.BackgroundTransparency = 1
contentBody.BorderSizePixel = 0
contentBody.ScrollBarThickness = 6
contentBody.ScrollBarImageColor3 = colors.bgControl
contentBody.CanvasSize = UDim2.new(0, 0, 0, 0)
contentBody.Parent = mainContent

local contentLayout = Instance.new("UIGridLayout")
contentLayout.CellPadding = UDim2.new(0, 24, 0, 24)
contentLayout.CellSize = UDim2.new(0, 350, 0, 0)
contentLayout.SortOrder = Enum.SortOrder.LayoutOrder
contentLayout.Parent = contentBody

local contentPadding = Instance.new("UIPadding")
contentPadding.PaddingTop = UDim.new(0, 24)
contentPadding.PaddingLeft = UDim.new(0, 24)
contentPadding.PaddingRight = UDim.new(0, 24)
contentPadding.PaddingBottom = UDim.new(0, 24)
contentPadding.Parent = contentBody

-- Function to create toggle switch
local function createToggle(parent, yPos, checked)
    local toggleFrame = Instance.new("Frame")
    toggleFrame.Size = UDim2.new(0, 38, 0, 22)
    toggleFrame.Position = UDim2.new(1, -38, 0, yPos)
    toggleFrame.BackgroundColor3 = checked and colors.accentGreen or colors.bgControl
    toggleFrame.BorderColor3 = checked and colors.accentGreen or colors.borderColor
    toggleFrame.BorderSizePixel = 1
    toggleFrame.Parent = parent
    
    local toggleCorner = Instance.new("UICorner")
    toggleCorner.CornerRadius = UDim.new(1, 0)
    toggleCorner.Parent = toggleFrame
    
    local toggleThumb = Instance.new("Frame")
    toggleThumb.Name = "Thumb"
    toggleThumb.Size = UDim2.new(0, 16, 0, 16)
    toggleThumb.Position = checked and UDim2.new(0, 18, 0.5, -8) or UDim2.new(0, 2, 0.5, -8)
    toggleThumb.BackgroundColor3 = checked and colors.bgSidebar or Color3.fromRGB(136, 136, 136)
    toggleThumb.BorderSizePixel = 0
    toggleThumb.Parent = toggleFrame
    
    local thumbCorner = Instance.new("UICorner")
    thumbCorner.CornerRadius = UDim.new(1, 0)
    thumbCorner.Parent = toggleThumb
    
    local toggleButton = Instance.new("TextButton")
    toggleButton.Size = UDim2.new(1, 0, 1, 0)
    toggleButton.BackgroundTransparency = 1
    toggleButton.Text = ""
    toggleButton.Parent = toggleFrame
    
    local isChecked = checked
    toggleButton.MouseButton1Click:Connect(function()
        isChecked = not isChecked
        toggleFrame.BackgroundColor3 = isChecked and colors.accentGreen or colors.bgControl
        toggleFrame.BorderColor3 = isChecked and colors.accentGreen or colors.borderColor
        toggleThumb.BackgroundColor3 = isChecked and colors.bgSidebar or Color3.fromRGB(136, 136, 136)
        toggleThumb:TweenPosition(
            isChecked and UDim2.new(0, 18, 0.5, -8) or UDim2.new(0, 2, 0.5, -8),
            Enum.EasingDirection.Out,
            Enum.EasingStyle.Quad,
            0.2,
            true
        )
    end)
    
    return toggleFrame
end

-- Function to create dropdown
local function createDropdown(parent, yPos, options, selected)
    local dropdown = Instance.new("TextButton")
    dropdown.Size = UDim2.new(0, 140, 0, 28)
    dropdown.Position = UDim2.new(1, -140, 0, yPos)
    dropdown.BackgroundColor3 = colors.bgControl
    dropdown.BorderColor3 = colors.borderColor
    dropdown.BorderSizePixel = 1
    dropdown.Text = "  " .. selected
    dropdown.TextColor3 = colors.textLight
    dropdown.Font = Enum.Font.Gotham
    dropdown.TextSize = 13
    dropdown.TextXAlignment = Enum.TextXAlignment.Left
    dropdown.AutoButtonColor = false
    dropdown.Parent = parent
    
    local dropdownCorner = Instance.new("UICorner")
    dropdownCorner.CornerRadius = UDim.new(0, 6)
    dropdownCorner.Parent = dropdown
    
    local arrow = Instance.new("TextLabel")
    arrow.Size = UDim2.new(0, 20, 1, 0)
    arrow.Position = UDim2.new(1, -24, 0, 0)
    arrow.BackgroundTransparency = 1
    arrow.Text = "‚ñº"
    arrow.TextColor3 = colors.textMuted
    arrow.Font = Enum.Font.Gotham
    arrow.TextSize = 10
    arrow.Parent = dropdown
    
    return dropdown
end

-- Function to create slider
local function createSlider(parent, yPos, value, max)
    local sliderFrame = Instance.new("Frame")
    sliderFrame.Size = UDim2.new(1, 0, 0, 24)
    sliderFrame.Position = UDim2.new(0, 0, 0, yPos)
    sliderFrame.BackgroundTransparency = 1
    sliderFrame.Parent = parent
    
    local sliderTrack = Instance.new("Frame")
    sliderTrack.Size = UDim2.new(1, -40, 0, 4)
    sliderTrack.Position = UDim2.new(0, 0, 0.5, -2)
    sliderTrack.BackgroundColor3 = colors.bgControl
    sliderTrack.BorderSizePixel = 0
    sliderTrack.Parent = sliderFrame
    
    local trackCorner = Instance.new("UICorner")
    trackCorner.CornerRadius = UDim.new(1, 0)
    trackCorner.Parent = sliderTrack
    
    local sliderFill = Instance.new("Frame")
    sliderFill.Size = UDim2.new(value / max, 0, 1, 0)
    sliderFill.BackgroundColor3 = colors.accentGreen
    sliderFill.BorderSizePixel = 0
    sliderFill.Parent = sliderTrack
    
    local fillCorner = Instance.new("UICorner")
    fillCorner.CornerRadius = UDim.new(1, 0)
    fillCorner.Parent = sliderFill
    
    local sliderThumb = Instance.new("Frame")
    sliderThumb.Size = UDim2.new(0, 16, 0, 16)
    sliderThumb.Position = UDim2.new(value / max, -8, 0.5, -8)
    sliderThumb.BackgroundColor3 = colors.accentGreen
    sliderThumb.BorderSizePixel = 0
    sliderThumb.Parent = sliderTrack
    
    local thumbCorner = Instance.new("UICorner")
    thumbCorner.CornerRadius = UDim.new(1, 0)
    thumbCorner.Parent = sliderThumb
    
    local valueLabel = Instance.new("TextLabel")
    valueLabel.Size = UDim2.new(0, 30, 1, 0)
    valueLabel.Position = UDim2.new(1, -30, 0, 0)
    valueLabel.BackgroundTransparency = 1
    valueLabel.Text = tostring(math.floor(value))
    valueLabel.TextColor3 = colors.textMuted
    valueLabel.Font = Enum.Font.Gotham
    valueLabel.TextSize = 13
    valueLabel.TextXAlignment = Enum.TextXAlignment.Right
    valueLabel.Parent = sliderFrame
    
    local dragging = false
    local dragInput
    local dragStart
    local startPos
    
    local function update(input)
        local delta = input.Position - dragStart
        local trackSize = sliderTrack.AbsoluteSize.X
        local newPos = math.clamp((startPos + delta.X) / trackSize, 0, 1)
        local newValue = math.floor(newPos * max)
        
        sliderFill.Size = UDim2.new(newPos, 0, 1, 0)
        sliderThumb.Position = UDim2.new(newPos, -8, 0.5, -8)
        valueLabel.Text = tostring(newValue)
    end
    
    sliderThumb.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = sliderThumb.Position.X.Scale * sliderTrack.AbsoluteSize.X
            
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)
    
    sliderThumb.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement then
            dragInput = input
        end
    end)
    
    game:GetService("UserInputService").InputChanged:Connect(function(input)
        if dragging and input == dragInput then
            update(input)
        end
    end)
    
    return sliderFrame
end

-- Function to create setting item
local function createSettingItem(parent, label, yPos, controlType, ...)
    local item = Instance.new("Frame")
    item.Size = UDim2.new(1, 0, 0, 32)
    item.Position = UDim2.new(0, 0, 0, yPos)
    item.BackgroundTransparency = 1
    item.Parent = parent
    
    local labelText = Instance.new("TextLabel")
    labelText.Size = UDim2.new(0.6, 0, 1, 0)
    labelText.BackgroundTransparency = 1
    labelText.Text = label
    labelText.TextColor3 = colors.textLight
    labelText.Font = Enum.Font.Gotham
    labelText.TextSize = 13
    labelText.TextXAlignment = Enum.TextXAlignment.Left
    labelText.Parent = item
    
    if controlType == "toggle" then
        createToggle(item, 5, ...)
    elseif controlType == "dropdown" then
        createDropdown(item, 2, ...)
    end
    
    return item
end

-- Function to create settings card
local function createCard(title, items)
    local card = Instance.new("Frame")
    card.Name = title
    card.BackgroundTransparency = 1
    card.LayoutOrder = 1
    card.Parent = contentBody
    
    local cardLayout = Instance.new("UIListLayout")
    cardLayout.Padding = UDim.new(0, 16)
    cardLayout.SortOrder = Enum.SortOrder.LayoutOrder
    cardLayout.Parent = card
    
    local cardTitle = Instance.new("TextLabel")
    cardTitle.Size = UDim2.new(1, 0, 0, 20)
    cardTitle.BackgroundTransparency = 1
    cardTitle.Text = title:upper()
    cardTitle.TextColor3 = colors.textWhite
    cardTitle.Font = Enum.Font.GothamBold
    cardTitle.TextSize = 12
    cardTitle.TextXAlignment = Enum.TextXAlignment.Left
    cardTitle.LayoutOrder = 0
    cardTitle.Parent = card
    
    for i, item in ipairs(items) do
        createSettingItem(card, item.label, 0, item.type, table.unpack(item.params or {}))
    end
    
    return card
end

-- Create Anti-aimbot angles card
local aaCard = createCard("Anti-aimbot angles", {
    {label = "Enabled", type = "toggle", params = {true}},
    {label = "Pitch", type = "dropdown", params = {{}, "Off"}},
    {label = "Yaw base", type = "dropdown", params = {{}, "Local view"}},
})

-- For complex items with sliders, we need to create them manually
local yawItem = Instance.new("Frame")
yawItem.Size = UDim2.new(1, 0, 0, 70)
yawItem.BackgroundTransparency = 1
yawItem.LayoutOrder = 4
yawItem.Parent = aaCard

local yawLabelRow = Instance.new("Frame")
yawLabelRow.Size = UDim2.new(1, 0, 0, 28)
yawLabelRow.BackgroundTransparency = 1
yawLabelRow.Parent = yawItem

local yawLabel = Instance.new("TextLabel")
yawLabel.Size = UDim2.new(0.5, 0, 1, 0)
yawLabel.BackgroundTransparency = 1
yawLabel.Text = "Yaw"
yawLabel.TextColor3 = colors.textLight
yawLabel.Font = Enum.Font.Gotham
yawLabel.TextSize = 13
yawLabel.TextXAlignment = Enum.TextXAlignment.Left
yawLabel.Parent = yawLabelRow

createDropdown(yawLabelRow, 0, {}, "Off")
createSlider(yawItem, 36, 50, 100)

-- Update canvas size
contentBody.CanvasSize = UDim2.new(0, 0, 0, 800)

print("GAMESENSE UI Loaded Successfully")
