-- Simple Neverlose UI - LocalScript/ClientSide
-- Place this in StarterPlayerScripts (LocalScript) or any client context.

-- 1) Loader (RAW URL only)
local Neverlose_Main = loadstring(game:HttpGet(
    "https://raw.githubusercontent.com/Mana42138/Neverlose-UI/refs/heads/main/Source.lua"
))()

-- Safety check (helps catch “line 8” style errors cleanly)
if not Neverlose_Main or type(Neverlose_Main.Window) ~= "function" then
    warn("[Neverlose] Failed to load library. Check RAW URL or network.")
    return
end

---------------------------------------------------------------------
-- 2) Window (client-side)
---------------------------------------------------------------------
local Win = Neverlose_Main:Window({
    Title = "NEVERLOSE",
    CFG   = "Neverlose",
    Key   = Enum.KeyCode.H,
    External = {
        KeySystem = true,
        Key = { "Test", "Beta" }
    }
})

---------------------------------------------------------------------
-- 3) Tab Section & Tab
---------------------------------------------------------------------
local TabSection1 = Win:TSection("Misc")
local MainTab     = TabSection1:Tab("Main")

---------------------------------------------------------------------
-- 4) Sections
---------------------------------------------------------------------
local MainSection   = MainTab:Section("Main Section")
local ConfigSection = MainTab:Section("Config")

---------------------------------------------------------------------
-- 5) Elements: Toggle
---------------------------------------------------------------------
local ValueToggle = false
local ToggleVar = MainSection:Toggle("Toggle", function(t)
    ValueToggle = t
end)
ToggleVar:Set(true)

---------------------------------------------------------------------
-- 6) Elements: Dropdown  (use the *ConfigSection* we created)
---------------------------------------------------------------------
local ValueDropdown = nil
local SmallTable = { "Mana64", "Lmao", "HVH" }

local SelectConfigVar = ConfigSection:Dropdown("Select Config", SmallTable, function(t)
    ValueDropdown = t
    print("Selected:", ValueDropdown)
end)
SelectConfigVar:Set("Mana64")
-- To refresh later:
-- SelectConfigVar:Refresh({ "New Mana64", "Legit" })

---------------------------------------------------------------------
-- 7) Elements: Slider  (on *MainSection*, no undefined 'World')
---------------------------------------------------------------------
local ValueSlider = 50
local HelloVar = MainSection:Slider("Hello", 1, 500, 50, function(t)
    ValueSlider = t
end)
HelloVar:Set(75)

---------------------------------------------------------------------
-- 8) Elements: Button  (on *MainSection*)
---------------------------------------------------------------------
MainSection:Button("Press Me", function()
    Neverlose_Main:Notify({
        Title = "Neverlose",
        Text  = "Yay you pressed me :DD",
        Time  = 2
    })
end)

---------------------------------------------------------------------
-- 9) Elements: TextBox  (on *MainSection*)
---------------------------------------------------------------------
MainSection:TextBox("Password here!", function(t)
    if t == "Mana" then
        Neverlose_Main:Notify({
            Title = "Welcome",
            Text  = "Welcome | " .. game.Players.LocalPlayer.Name,
            Time  = 2
        })
    else
        -- Client-side kick is fine here since we're in a LocalScript.
        game.Players.LocalPlayer:Kick("Wrong key NOOB")
    end
end)

---------------------------------------------------------------------
-- 10) Elements: Colorpicker  (on *ConfigSection*)
---------------------------------------------------------------------
ConfigSection:Colorpicker("Background", Color3.fromRGB(0, 20, 38), function(color)
    -- Example: apply color somewhere if your lib exposes styling APIs
    -- print("Picked:", color)
end)

---------------------------------------------------------------------
-- 11) Elements: KeyBind  (on *ConfigSection*)
---------------------------------------------------------------------
ConfigSection:Bind("On-Shot", function(bindData)
    print("Bind fired:", tostring(bindData))
end, {
    { key = Enum.KeyCode.P, Toggled = false },
    { key = Enum.KeyCode.R, Toggled = true  }
})

---------------------------------------------------------------------
-- 12) Lua Scripting Hook (optional; only if the lib sets getgenv().Lua)
---------------------------------------------------------------------
local NoLove = getgenv().Lua
if NoLove then
    local LuaMainSection   = NoLove:Section("Main")
    local LuaConfigSection = NoLove:Section("Config")

    LuaMainSection:Toggle("Lua: Example Toggle", function(t)
        print("Lua Toggle:", t)
    end)

    LuaConfigSection:Slider("Lua: Example Slider", 0, 100, 25, function(v)
        print("Lua Slider:", v)
    end)

    LuaConfigSection:Dropdown("Lua: Mode", { "A", "B", "C" }, function(sel)
        print("Lua Mode:", sel)
    end)
else
    warn("[Neverlose] Lua support (getgenv().Lua) not provided by the library.")
end
