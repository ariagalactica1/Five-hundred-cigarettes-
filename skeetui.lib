--!strict
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "GameSenseUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

-- Colors
local Colors = {
    Primary = Color3.fromRGB(139, 195, 74),
    SidebarBG = Color3.fromRGB(30, 30, 30),
    MainBG = Color3.fromRGB(22, 22, 22),
    ControlBG = Color3.fromRGB(44, 44, 44),
    Border = Color3.fromRGB(58, 58, 58),
    TextPrimary = Color3.fromRGB(224, 224, 224),
    TextSecondary = Color3.fromRGB(117, 117, 117)
}

-- Fonts
local Font = Enum.Font.Gotham

--[[ Sidebar ]]--
local sidebar = Instance.new("Frame")
sidebar.Size = UDim2.new(0, 240, 1, 0)
sidebar.BackgroundColor3 = Colors.SidebarBG
sidebar.BorderSizePixel = 0
sidebar.Parent = screenGui

local sidebarPadding = Instance.new("UIPadding")
sidebarPadding.PaddingTop = UDim.new(0, 24)
sidebarPadding.PaddingLeft = UDim.new(0, 24)
sidebarPadding.Parent = sidebar

-- Header
local header = Instance.new("TextLabel")
header.Size = UDim2.new(1, -48, 0, 32)
header.Position = UDim2.new(0, 0, 0, 0)
header.BackgroundTransparency = 1
header.Text = "GAMESENSE"
header.TextColor3 = Color3.fromRGB(255, 255, 255)
header.Font = Font
header.TextSize = 24
header.TextXAlignment = Enum.TextXAlignment.Left
header.TextYAlignment = Enum.TextYAlignment.Top
header.Parent = sidebar

-- Sidebar Scrollable Area
local sidebarScroll = Instance.new("ScrollingFrame")
sidebarScroll.Size = UDim2.new(1, 0, 1, -100)
sidebarScroll.Position = UDim2.new(0, 0, 0, 60)
sidebarScroll.BackgroundTransparency = 1
sidebarScroll.ScrollBarThickness = 6
sidebarScroll.CanvasSize = UDim2.new(0, 0, 0, 0)
sidebarScroll.Parent = sidebar

local listLayout = Instance.new("UIListLayout")
listLayout.Padding = UDim.new(0, 8)
listLayout.Parent = sidebarScroll

-- Helper function: Create Sidebar Category
local function createCategory(title)
    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, 0, 0, 20)
    label.BackgroundTransparency = 1
    label.Text = title:upper()
    label.TextColor3 = Colors.TextSecondary
    label.Font = Font
    label.TextSize = 12
    label.TextXAlignment = Enum.TextXAlignment.Left
    label.Parent = sidebarScroll
end

-- Helper function: Create Sidebar Item
local function createItem(labelText, isSelected)
    local item = Instance.new("TextButton")
    item.Size = UDim2.new(1, -16, 0, 32)
    item.BackgroundColor3 = isSelected and Colors.ControlBG or Color3.fromRGB(0,0,0)
    item.AutoButtonColor = false
    item.Text = "ðŸŸ¢ " .. labelText -- placeholder icon emoji
    item.TextColor3 = isSelected and Colors.TextPrimary or Colors.TextSecondary
    item.Font = Font
    item.TextSize = 14
    item.TextXAlignment = Enum.TextXAlignment.Left
    item.Parent = sidebarScroll

    -- Hover effect
    item.MouseEnter:Connect(function()
        TweenService:Create(item, TweenInfo.new(0.2), {BackgroundColor3 = Colors.ControlBG}):Play()
    end)
    item.MouseLeave:Connect(function()
        TweenService:Create(item, TweenInfo.new(0.2), {BackgroundColor3 = isSelected and Colors.ControlBG or Color3.fromRGB(0,0,0)}):Play()
    end)
end

-- Example items
createCategory("Aimbot")
createItem("RageBot", false)
createItem("Anti Aim", true)
createItem("Legitbot", false)

createCategory("Visuals")
createItem("Players", false)
createItem("Weapon", false)
createItem("Grenades", false)
createItem("Bomb", false)
createItem("World", false)
createItem("View", false)

createCategory("Miscellaneous")
createItem("Main", false)
createItem("Inventory", false)
createItem("Lua", false)
createItem("Configs", false)

-- User Profile Info
local profileFrame = Instance.new("Frame")
profileFrame.Size = UDim2.new(1, -48, 0, 60)
profileFrame.Position = UDim2.new(0, 0, 1, -80)
profileFrame.BackgroundTransparency = 1
profileFrame.Parent = sidebar

local avatar = Instance.new("ImageLabel")
avatar.Size = UDim2.new(0, 40, 0, 40)
avatar.Position = UDim2.new(0, 0, 0, 0)
avatar.BackgroundTransparency = 1
avatar.Image = Players:GetUserThumbnailAsync(player.UserId, Enum.ThumbnailType.HeadShot, Enum.ThumbnailSize.Size48x48)
avatar.Parent = profileFrame

local profileName = Instance.new("TextLabel")
profileName.Size = UDim2.new(1, -50, 0, 20)
profileName.Position = UDim2.new(0, 50, 0, 0)
profileName.BackgroundTransparency = 1
profileName.Text = player.Name
profileName.TextColor3 = Colors.TextPrimary
profileName.Font = Font
profileName.TextSize = 14
profileName.TextXAlignment = Enum.TextXAlignment.Left
profileName.Parent = profileFrame

local profileStatus = Instance.new("TextLabel")
profileStatus.Size = UDim2.new(1, -50, 0, 20)
profileStatus.Position = UDim2.new(0, 50, 0, 20)
profileStatus.BackgroundTransparency = 1
profileStatus.Text = "TIE: 27.08 24:00"
profileStatus.TextColor3 = Colors.TextSecondary
profileStatus.Font = Font
profileStatus.TextSize = 12
profileStatus.TextXAlignment = Enum.TextXAlignment.Left
profileStatus.Parent = profileFrame

-- Main Content placeholder
local mainContent = Instance.new("Frame")
mainContent.Size = UDim2.new(1, -240, 1, 0)
mainContent.Position = UDim2.new(0, 240, 0, 0)
mainContent.BackgroundColor3 = Colors.MainBG
mainContent.Parent = screenGui

-- TODO: Add Header, Scrollable Settings Sections, Sliders, Switches, Dropdowns

