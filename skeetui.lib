-- Gamesense-like UI (Roblox LocalScript)
-- Place this as a LocalScript under StarterPlayerScripts or StarterGui

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")

local lp = Players.LocalPlayer
local pg = lp:WaitForChild("PlayerGui")

-- Theme
local T = {
	bg = Color3.fromRGB(12, 15, 14),
	sidebar = Color3.fromRGB(20, 24, 22),
	surface = Color3.fromRGB(23, 27, 25),
	panel = Color3.fromRGB(26, 30, 28),
	stroke = Color3.fromRGB(255, 255, 255),
	muted = Color3.fromRGB(150, 160, 155),
	text = Color3.fromRGB(230, 235, 230),
	accent = Color3.fromRGB(130, 255, 60),
	accentGlow = Color3.fromRGB(90, 180, 40)
}

-- Helpers
local function create(className, props, children)
	local inst = Instance.new(className)
	if props then
		for k, v in pairs(props) do
			if k ~= "Parent" then inst[k] = v end
		end
	end
	if children then
		for _, c in ipairs(children) do c.Parent = inst end
	end
	if props and props.Parent then inst.Parent = props.Parent end
	return inst
end

local function roundify(inst, radius)
	create("UICorner", {CornerRadius = UDim.new(0, radius or 8), Parent = inst})
end

local function stroke(inst, thickness, transparency, color)
	create("UIStroke", {
		Thickness = thickness or 1,
		Transparency = transparency or 0.8,
		ApplyStrokeMode = Enum.ApplyStrokeMode.Border,
		Color = color or T.stroke,
		Parent = inst,
	})
end

local function padding(inst, l, t, r, b)
	create("UIPadding", {PaddingLeft=UDim.new(0,l or 0), PaddingTop=UDim.new(0,t or 0), PaddingRight=UDim.new(0,r or 0), PaddingBottom=UDim.new(0,b or 0), Parent=inst})
end

local function list(inst, horizontal, paddingPx)
	local layout = create(horizontal and "UIListLayout" or "UIListLayout", {
		FillDirection = horizontal and Enum.FillDirection.Horizontal or Enum.FillDirection.Vertical,
		HorizontalAlignment = Enum.HorizontalAlignment.Left,
		VerticalAlignment = Enum.VerticalAlignment.Top,
		Padding = UDim.new(0, paddingPx or 8),
		Parent = inst,
	})
	return layout
end

local function grid2(parent, gap)
	local holder = create("Frame", {BackgroundTransparency = 1, Size = UDim2.new(1,0,0,0), AutomaticSize = Enum.AutomaticSize.Y, Parent = parent})
	local layout = create("UIGridLayout", {
		CellPadding = UDim2.fromOffset(gap or 12, gap or 12),
		CellSize = UDim2.new(0.5, -((gap or 12)/2), 0, 58),
		HorizontalAlignment = Enum.HorizontalAlignment.Left,
		SortOrder = Enum.SortOrder.LayoutOrder,
		Parent = holder,
	})
	return holder, layout
end

-- Components
local function Label(parent, text, size, color, bold)
	return create("TextLabel", {
		BackgroundTransparency = 1,
		Text = text,
		Font = bold and Enum.Font.GothamBold or Enum.Font.Gotham,
		TextSize = size or 14,
		TextColor3 = color or T.text,
		TextXAlignment = Enum.TextXAlignment.Left,
		Size = UDim2.new(1,0,0,20),
		Parent = parent,
	})
end

local function SectionTitle(parent, text)
	local t = Label(parent, text, 16, T.text, true)
	t.TextTransparency = 0.08
	return t
end

local function Toggle(parent, default)
	local holder = create("Frame", {BackgroundTransparency=1, Size=UDim2.new(0,62,0,24), Parent=parent})
	local track = create("Frame", {BackgroundColor3 = T.surface, Size = UDim2.new(1,0,1,0), Parent=holder})
	roundify(track, 12)
	stroke(track, 1, 0.85)
	local knob = create("Frame", {BackgroundColor3 = Color3.fromRGB(180,185,180), Size = UDim2.new(0,20,0,20), Position=UDim2.fromOffset(2,2), Parent=track})
	roundify(knob, 10)
	local glow = create("ImageLabel", {BackgroundTransparency=1, Image="rbxassetid://5028857084", ImageColor3=T.accent, ImageTransparency=1, Size=UDim2.new(1,16,1,16), Position=UDim2.fromOffset(-8,-8), ZIndex=0, Parent=track})

	holder.Active = true
	holder.Selectable = true
	local on = default and true or false
	local function apply()
		TweenService:Create(knob, TweenInfo.new(0.15, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
			Position = on and UDim2.fromOffset(40,2) or UDim2.fromOffset(2,2),
			BackgroundColor3 = on and Color3.fromRGB(240,255,240) or Color3.fromRGB(180,185,180)
		}):Play()
		TweenService:Create(track, TweenInfo.new(0.15), {BackgroundColor3 = on and T.accent or T.surface}):Play()
		TweenService:Create(glow, TweenInfo.new(0.2), {ImageTransparency = on and 0.7 or 1}):Play()
	end
	apply()
	track.InputBegan:Connect(function(io)
		if io.UserInputType == Enum.UserInputType.MouseButton1 or io.UserInputType == Enum.UserInputType.Touch then
			on = not on
			apply()
		end
	end)
	return setmetatable({}, {
		__index = {
			Instance = holder,
			Get = function() return on end,
			Set = function(_, v) on=v; apply() end,
		}
	})
end

local function Dropdown(parent, items, defaultIndex)
	local holder = create("Frame", {BackgroundColor3=T.surface, Size=UDim2.new(1,0,0,36), Parent=parent})
	roundify(holder, 6)
	stroke(holder,1,0.85)
	local valueLabel = create("TextLabel", {BackgroundTransparency=1, Text=(items[defaultIndex or 1] or ""), Font=Enum.Font.Gotham, TextSize=14, TextColor3=T.text, TextXAlignment=Enum.TextXAlignment.Left, Size=UDim2.new(1,-36,1,0), Position=UDim2.fromOffset(12,0), Parent=holder})
	local caret = create("TextLabel", {BackgroundTransparency=1, Text="â–¼", Font=Enum.Font.GothamBold, TextSize=14, TextColor3=T.muted, Size=UDim2.fromOffset(24,36), Position=UDim2.fromOffset(holder.AbsoluteSize.X-24,0), AnchorPoint=Vector2.new(1,0), Parent=holder})
	local listFrame = create("Frame", {BackgroundColor3=T.surface, Visible=false, Size=UDim2.new(1,0,0, (#items*28)+8), Position=UDim2.fromOffset(0,36), Parent=holder, ZIndex=10})
	roundify(listFrame, 6)
	stroke(listFrame,1,0.8)
	padding(listFrame,8,8,8,8)
	local ll = list(listFrame, false, 4)

	local index = defaultIndex or 1
	local function setIndex(i)
		index = i
		valueLabel.Text = items[i]
	end
	for i, name in ipairs(items) do
		local b = create("TextButton", {BackgroundColor3 = Color3.fromRGB(28,32,30), AutoButtonColor=false, Size=UDim2.new(1,0,0,24), Text = name, Font=Enum.Font.Gotham, TextSize=13, TextColor3 = (i==index) and T.accent or T.text, Parent=listFrame})
		roundify(b,4)
		b.MouseButton1Click:Connect(function()
			setIndex(i)
			listFrame.Visible = false
		end)
	end

	holder.InputBegan:Connect(function(io)
		if io.UserInputType == Enum.UserInputType.MouseButton1 then
			listFrame.Visible = not listFrame.Visible
		end
	end)

	UserInputService.InputBegan:Connect(function(io)
		if listFrame.Visible and io.UserInputType == Enum.UserInputType.MouseButton1 then
			local p = io.Position
			local abs = listFrame.AbsolutePosition
			local sz = listFrame.AbsoluteSize
			if not (p.X>=abs.X and p.X<=abs.X+sz.X and p.Y>=abs.Y and p.Y<=abs.Y+sz.Y) then
				listFrame.Visible = false
			end
		end
	end)

	return {
		Instance = holder,
		Get = function() return items[index] end,
		SetIndex = setIndex,
	}
end

local function Slider(parent, min, max, value)
	min, max = min or 0, max or 100
	local holder = create("Frame", {BackgroundTransparency=1, Size=UDim2.new(1,0,0,44), Parent=parent})
	local bar = create("Frame", {BackgroundColor3 = Color3.fromRGB(40,44,42), Size=UDim2.new(1,0,0,6), Position=UDim2.fromOffset(0,20), Parent=holder})
	roundify(bar, 3)
	stroke(bar,1,0.85)
	local fill = create("Frame", {BackgroundColor3=T.accent, Size=UDim2.new(0,0,1,0), Parent=bar})
	roundify(fill, 3)
	local knob = create("Frame", {BackgroundColor3 = Color3.fromRGB(235,245,235), Size=UDim2.fromOffset(14,14), AnchorPoint=Vector2.new(0.5,0.5), Position=UDim2.fromOffset(0,3), Parent=bar})
	roundify(knob, 7)
	local val = value or min

	local function setFromX(x)
		local ax = bar.AbsolutePosition.X
		local aw = bar.AbsoluteSize.X
		local alpha = math.clamp((x-ax)/aw,0,1)
		val = math.floor(min + (max-min)*alpha + 0.5)
		local px = math.floor(aw*alpha)
		fill.Size = UDim2.new(0, px, 1, 0)
		knob.Position = UDim2.fromOffset(px, 3)
	end

	local function setVal(v)
		v = math.clamp(v, min, max)
		local aw = bar.AbsoluteSize.X
		local alpha = (v-min)/(max-min)
		local px = math.floor(aw*alpha)
		val = v
		fill.Size = UDim2.new(0, px, 1,0)
		knob.Position = UDim2.fromOffset(px,3)
	end

	bar.InputBegan:Connect(function(io)
		if io.UserInputType==Enum.UserInputType.MouseButton1 then
			setFromX(io.Position.X)
		end
	end)
	UserInputService.InputChanged:Connect(function(io)
		if io.UserInputType==Enum.UserInputType.MouseMovement and UserInputService:IsMouseButtonPressed(Enum.UserInputType.MouseButton1) then
			setFromX(io.Position.X)
		end
	end)

	RunService.Heartbeat:Wait()
	setVal(val)

	return {Instance = holder, Get=function() return val end, Set=setVal}
end

-- Root GUI
local gui = create("ScreenGui", {Name="GamesenseUI", IgnoreGuiInset=true, ZIndexBehavior=Enum.ZIndexBehavior.Sibling, ResetOnSpawn=false, Parent=pg})

local root = create("Frame", {BackgroundColor3=T.bg, Size=UDim2.new(1,0,1,0), Parent=gui})
local rootGrad = create("UIGradient", {Color = ColorSequence.new{ColorSequenceKeypoint.new(0, Color3.fromRGB(8,10,9)), ColorSequenceKeypoint.new(1, T.bg)}, Rotation=90, Parent=root})

-- Sidebar
local sidebar = create("Frame", {BackgroundColor3=T.sidebar, Size=UDim2.new(0, 250, 1, 0), Parent=root})
stroke(sidebar,1,0.8)
local sbGrad = create("UIGradient", {Color=ColorSequence.new{ColorSequenceKeypoint.new(0, Color3.fromRGB(18,22,20)), ColorSequenceKeypoint.new(1, Color3.fromRGB(16,19,17))}, Rotation=90, Parent=sidebar})
padding(sidebar, 18, 18, 16, 18)

local brand = Label(sidebar, "GAMESENSE", 26, T.accent, true)
brand.Size = UDim2.new(1,0,0,28)

local navHolder = create("Frame", {BackgroundTransparency=1, Size = UDim2.new(1,0,1,-160), Position=UDim2.fromOffset(0,40), Parent=sidebar})
local navList = list(navHolder, false, 16)

local function NavSection(title, items, activeIndex)
	local sec = create("Frame", {BackgroundTransparency=1, Size=UDim2.new(1,0,0,0), AutomaticSize=Enum.AutomaticSize.Y, Parent=navHolder})
	Label(sec, title, 12, T.muted, true)
	local itemsFrame = create("Frame", {BackgroundTransparency=1, Size=UDim2.new(1,0,0,0), AutomaticSize=Enum.AutomaticSize.Y, Parent=sec})
	local l = list(itemsFrame, false, 6)
	for i, name in ipairs(items) do
		local item = create("TextButton", {AutoButtonColor=false, BackgroundColor3 = (i==activeIndex) and Color3.fromRGB(32,36,34) or Color3.fromRGB(24,28,26), Size = UDim2.new(1,0,0,28), Text="  "..name, Font=Enum.Font.Gotham, TextSize=14, TextColor3 = T.text, Parent=itemsFrame})
		roundify(item, 6)
		stroke(item, 1, 0.85)
		if i==activeIndex then
			local bar = create("Frame", {BackgroundColor3=T.accent, Size=UDim2.new(0,4,1,0), Parent=item})
			roundify(bar,2)
		end
	end
	return sec
end

NavSection("aimbot", {"RageBot","Anti Aim","Legitbot"}, 2)
NavSection("visuals", {"Players","Weapon","Grenades","Bomb","World","View"}, nil)
NavSection("miscellaneous", {"Main","Inventory","Lua","Configs"}, nil)

local profile = create("Frame", {BackgroundTransparency=1, Size=UDim2.new(1,0,0,56), Position=UDim2.new(0,0,1,-60), Parent=sidebar})
local avatar = create("Frame", {BackgroundColor3=Color3.fromRGB(80,90,85), Size=UDim2.fromOffset(40,40), Position=UDim2.fromOffset(0,8), Parent=profile})
roundify(avatar, 20)
local pname = Label(profile, "Amiga", 14, T.text, true)
pname.Position = UDim2.fromOffset(50,8)
pname.Size = UDim2.new(1,-50,0,20)
local ptime = Label(profile, "TIE 27.08 24:00", 12, T.muted, false)
ptime.Position = UDim2.fromOffset(50,28)
ptime.Size = UDim2.new(1,-50,0,18)

-- Content area
local content = create("Frame", {BackgroundColor3=T.bg, Size=UDim2.new(1,-250,1,0), Position=UDim2.fromOffset(250,0), Parent=root})
padding(content, 24, 18, 24, 24)

-- Top bar
local topbar = create("Frame", {BackgroundColor3=T.surface, Size=UDim2.new(1,0,0,44), Parent=content})
roundify(topbar,8)
stroke(topbar,1,0.85)
padding(topbar,12,6,12,6)

local saveBtn = create("TextButton", {AutoButtonColor=false, BackgroundColor3=Color3.fromRGB(32,36,34), Size=UDim2.fromOffset(84,32), Text="  Save", Font=Enum.Font.GothamBold, TextSize=14, TextColor3=T.text, Parent=topbar})
roundify(saveBtn,6)
stroke(saveBtn,1,0.8)
local saveDot = create("Frame", {BackgroundColor3=T.accent, Size=UDim2.fromOffset(16,16), Position=UDim2.fromOffset(10,8), Parent=saveBtn})
roundify(saveDot,8)

local rightIcons = create("Frame", {BackgroundTransparency=1, Size=UDim2.new(0,120,1,0), Position=UDim2.new(1,-120,0,0), Parent=topbar})
local rlist = list(rightIcons, true, 8)
for _=1,3 do
	local ic = create("Frame", {BackgroundColor3=Color3.fromRGB(32,36,34), Size=UDim2.fromOffset(32,32), Parent=rightIcons})
	roundify(ic,6)
	stroke(ic,1,0.85)
	local dot = create("Frame", {BackgroundColor3=T.accent, Size=UDim2.fromOffset(8,8), AnchorPoint=Vector2.new(0.5,0.5), Position=UDim2.fromScale(0.5,0.5), Parent=ic})
	roundify(dot,4)
end

-- Panels holder
local panels = create("Frame", {BackgroundTransparency=1, Size=UDim2.new(1,0,1,-64), Position=UDim2.fromOffset(0,56), Parent=content})
local panelsLayout = create("UIListLayout", {FillDirection=Enum.FillDirection.Horizontal, Padding=UDim.new(0,16), Parent=panels})

local function Panel(title)
	local p = create("Frame", {BackgroundColor3=T.surface, Size=UDim2.new(0.5,-8,1,0), Parent=panels})
	roundify(p,10)
	stroke(p,1,0.85)
	padding(p,16,16,16,16)
	SectionTitle(p, title)
	local body = create("Frame", {BackgroundTransparency=1, Size=UDim2.new(1,0,1,-28), Position=UDim2.fromOffset(0,28), Parent=p})
	local bodyList = list(body, false, 14)
	return p, body
end

local leftPanel, leftBody = Panel("Anti-aimbot angles")
-- Enabled row
local row1 = create("Frame", {BackgroundTransparency=1, Size=UDim2.new(1,0,0,28), Parent=leftBody})
local r1label = Label(row1, "Enabled", 14, T.text, false)
r1label.Size = UDim2.new(1,-86,1,0)
local t1 = Toggle(row1, true)
t1.Instance.Position = UDim2.new(1,-62,0,2)

-- Grid fields
local gridL = grid2(leftBody, 12)
local function Field(name, widget)
	local f = create("Frame", {BackgroundTransparency=1, Parent=gridL})
	Label(f, name, 12, T.muted, false).Position = UDim2.fromOffset(0,0)
	widget.Parent = f
	widget.Position = UDim2.fromOffset(0,18)
	widget.Size = UDim2.new(1,0,0,36)
	return f
end

Field("Pitch", Dropdown(nil, {"Off","Default","Down"}, 1).Instance)
Field("Yaw base", Dropdown(nil, {"Local view","At targets"}, 1).Instance)
Field("Yaw", Dropdown(nil, {"Off","180","Spin"}, 1).Instance)
Field("Yaw jitter", Dropdown(nil, {"Off","Center","Random"}, 1).Instance)
Field("Body yaw", Dropdown(nil, {"Off","Opposite","Left","Right"}, 1).Instance)
Field("Freestanding body yaw", Dropdown(nil, {"On","Off"}, 1).Instance)

local edgeField = create("Frame", {BackgroundTransparency=1, Parent=gridL})
Label(edgeField, "Edge yaw", 12, T.muted, false)
local edgeSel = Dropdown(edgeField, {"Freestanding","Off"}, 1)
edgeSel.Instance.Position = UDim2.fromOffset(0,18)
edgeSel.Instance.Size = UDim2.new(1,0,0,36)

-- Yaw slider row
local sliderRow = create("Frame", {BackgroundTransparency=1, Size=UDim2.new(1,0,0,56), Parent=leftBody})
Label(sliderRow, "Yaw", 12, T.muted, false)
local yawSlider = Slider(sliderRow, 0, 100, 35)
yawSlider.Instance.Position = UDim2.fromOffset(0,18)

-- Right panel
local rightPanel, rightBody = Panel("Fake lag")
local row2 = create("Frame", {BackgroundTransparency=1, Size=UDim2.new(1,0,0,28), Parent=rightBody})
Label(row2, "Enabled", 14, T.text, false).Size = UDim2.new(1,-86,1,0)
local t2 = Toggle(row2, true)
t2.Instance.Position = UDim2.new(1,-62,0,2)

local gridR = grid2(rightBody, 12)
Field = function(name, widget)
	local f = create("Frame", {BackgroundTransparency=1, Parent=gridR})
	Label(f, name, 12, T.muted, false)
	widget.Parent = f
	widget.Position = UDim2.fromOffset(0,18)
	widget.Size = UDim2.new(1,0,0,36)
	return f
end

Field("Amount", Dropdown(nil, {"Dynamic","Static"}, 1).Instance)
Field("Variance", Dropdown(nil, {"0","10","25"}, 1).Instance)
Field("Limit", Dropdown(nil, {"0","2","6","14"}, 1).Instance)

SectionTitle(rightBody, "Other")
local gridR2 = grid2(rightBody, 12)
Field = function(name, widget)
	local f = create("Frame", {BackgroundTransparency=1, Parent=gridR2})
	Label(f, name, 12, T.muted, false)
	widget.Parent = f
	widget.Position = UDim2.fromOffset(0,18)
	widget.Size = UDim2.new(1,0,0,36)
	return f
end

Field("Slow motion", Dropdown(nil, {"Favor high speed","Favor accuracy"}, 1).Instance)
Field("Leg movement", Dropdown(nil, {"Off","Always slide"}, 1).Instance)

local togglesContainer = create("Frame", {BackgroundTransparency=1, Size=UDim2.new(1,0,0,64), Parent=rightBody})
local tl = list(togglesContainer, false, 8)

local function ToggleLine(text)
	local row = create("Frame", {BackgroundTransparency=1, Size=UDim2.new(1,0,0,28), Parent=togglesContainer})
	Label(row, text, 14, T.text, false)
	local tg = Toggle(row, false)
	tg.Instance.Position = UDim2.new(1,-62,0,2)
	return tg
end

ToggleLine("On shot anti-aim")
ToggleLine("Fake peek")

-- Done. The UI is created and interactive.
